(()=>{var t={426:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var o=n(645),i=n.n(o)()((function(t){return t[1]}));i.push([t.id,"* {\n  margin: 0;\n}\n\nhtml,\nbody {\n  width: 100%;\n  height: 100%;\n}\n\nbody {\n  background-color: #4e5052;\n}\n\ncanvas {\n  width: 100%;\n  height: 100%;\n  display: block;\n}\n\n#switcher {\n  position: absolute;\n  bottom: 1rem;\n  left: 1rem;\n}\n",""]);const r=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,o){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(o)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(i[a]=!0)}for(var s=0;s<t.length;s++){var l=[].concat(t[s]);o&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},466:function(t){var e;t.exports=((e=function(){function t(t){return i.appendChild(t.dom),t}function n(t){for(var e=0;e<i.children.length;e++)i.children[e].style.display=e===t?"block":"none";o=t}var o=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(t){t.preventDefault(),n(++o%i.children.length)}),!1);var r=(performance||Date).now(),a=r,s=0,l=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){r=(performance||Date).now()},end:function(){s++;var t=(performance||Date).now();if(c.update(t-r,200),t>a+1e3&&(l.update(1e3*s/(t-a),100),a=t,s=0,u)){var e=performance.memory;u.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){r=this.end()},domElement:i,setMode:n}}).Panel=function(t,e,n){var o=1/0,i=0,r=Math.round,a=r(window.devicePixelRatio||1),s=80*a,l=48*a,c=3*a,u=2*a,d=3*a,h=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var _=m.getContext("2d");return _.font="bold "+9*a+"px Helvetica,Arial,sans-serif",_.textBaseline="top",_.fillStyle=n,_.fillRect(0,0,s,l),_.fillStyle=e,_.fillText(t,c,u),_.fillRect(d,h,f,p),_.fillStyle=n,_.globalAlpha=.9,_.fillRect(d,h,f,p),{dom:m,update:function(l,v){o=Math.min(o,l),i=Math.max(i,l),_.fillStyle=n,_.globalAlpha=1,_.fillRect(0,0,s,h),_.fillStyle=e,_.fillText(r(l)+" "+t+" ("+r(o)+"-"+r(i)+")",c,u),_.drawImage(m,d+a,h,f-a,p,d,h,f-a,p),_.fillRect(d+f-a,h,a,p),_.fillStyle=n,_.globalAlpha=.9,_.fillRect(d+f-a,h,a,r((1-l/v)*p))}}},e)},379:(t,e,n)=>{"use strict";var o,i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),r=[];function a(t){for(var e=-1,n=0;n<r.length;n++)if(r[n].identifier===t){e=n;break}return e}function s(t,e){for(var n={},o=[],i=0;i<t.length;i++){var s=t[i],l=e.base?s[0]+e.base:s[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=a(u),h={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(r[d].references++,r[d].updater(h)):r.push({identifier:u,updater:m(h,e),references:1}),o.push(u)}return o}function l(t){var e=document.createElement("style"),o=t.attributes||{};if(void 0===o.nonce){var r=n.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(t){e.setAttribute(t,o[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var c,u=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function d(t,e,n,o){var i=n?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(t.styleSheet)t.styleSheet.cssText=u(e,i);else{var r=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(r,a[e]):t.appendChild(r)}}function h(t,e,n){var o=n.css,i=n.media,r=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var f=null,p=0;function m(t,e){var n,o,i;if(e.singleton){var r=p++;n=f||(f=l(e)),o=d.bind(null,n,r,!1),i=d.bind(null,n,r,!0)}else n=l(e),o=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return o(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;o(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o));var n=s(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var o=0;o<n.length;o++){var i=a(n[o]);r[i].references--}for(var l=s(t,e),c=0;c<n.length;c++){var u=a(n[c]);0===r[u].references&&(r[u].updater(),r.splice(u,1))}n=l}}}},51:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec3 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(v_color, 1);\n}\n"},528:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec3 a_color;\n\nuniform mat4 u_matrix;\n\nout vec3 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(a_position, 1);\n\n  v_color = a_color;\n}\n"},584:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec4 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = v_color;\n}\n"},778:t=>{"use strict";t.exports="#version 300 es\n\nin vec4 a_position;\nin vec4 a_color;\n\nuniform mat4 u_matrix;\n\nout vec4 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * a_position;\n\n  v_color = a_color;\n}\n"},57:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec2 v_uv;\n\nuniform float u_width;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  float w = u_width;\n  float wi = 1.0 - w;\n  float c = (v_uv.x <= w || v_uv.x >= wi || v_uv.y <= w || v_uv.y >= wi) ? 0.0 : 1.0;\n  finalColor = vec4(c, c, c, 1.0 - c);\n}\n"},822:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec2 v_uv;\n\nuniform float u_width;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  vec2 delta = v_uv - vec2(0.5, 0.5);\n  float dist = 0.5 - sqrt(delta.x * delta.x + delta.y * delta.y);\n  float a = (dist > u_width || dist < 0.0) ? 0.0 : 1.0;\n  finalColor = vec4(0, 0, 0, a);\n}\n"},738:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec2 a_uv;\n\nuniform mat4 u_matrix;\n\nout vec2 v_uv;\n\nvoid main(void) {\n  v_uv = a_uv;\n  gl_Position = u_matrix * vec4(a_position, 1);\n}\n"},446:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec3 v_color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(v_color, 1);\n}\n"},10:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\nin vec3 a_color;\n\nuniform mat4 u_matrix;\n\nout vec3 v_color;\n\nvoid main(void) {\n  gl_Position = u_matrix * vec4(a_position, 1);\n\n  v_color = a_color;\n}\n"},37:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(1.0);\n}\n"},189:t=>{"use strict";t.exports="#version 300 es\n\nin vec2 a_position;\n\nvoid main(void) {\n  gl_PointSize = 50.0;\n  gl_Position = vec4(a_position, 0.0, 1.0);\n}\n"},802:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nuniform vec4 u_pointColor;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = u_pointColor;\n}\n"},800:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\n\nuniform float u_pointSize;\nuniform float u_angle;\n\nvoid main(void) {\n  gl_PointSize = u_pointSize;\n  gl_Position = vec4(\n    cos(u_angle) * 0.8 + a_position.x,\n    sin(u_angle) * 0.8 + a_position.y,\n    a_position.z,\n    1.0\n  );\n}\n"},389:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(1.0, 1.0, 1.0, 1.0);\n}\n"},827:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\n\nuniform float u_angle;\n\nvoid main(void) {\n  gl_PointSize = 10.0 + sin(u_angle * 5.0) * 5.0;\n  gl_Position = vec4(\n    cos(u_angle) * 0.8 + a_position.x,\n    sin(u_angle) * 0.8 + a_position.y,\n    a_position.z,\n    1.0\n  );\n}\n"},565:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nin vec4 color;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = color;\n}\n"},290:t=>{"use strict";t.exports="#version 300 es\n\nin vec3 a_position;\n\nuniform vec3 u_color[2];\n\nout lowp vec4 color;\n\nvoid main(void) {\n  color = vec4(u_color[ int(a_position.z) ], 1.0);\n  gl_Position = vec4(a_position.xy, 0.0, 1.0);\n}\n"},322:t=>{"use strict";t.exports="#version 300 es\n\nprecision mediump float;\n\nout vec4 finalColor;\n\nvoid main(void) {\n  finalColor = vec4(1);\n}\n"},107:t=>{"use strict";t.exports="#version 300 es\n\nin vec2 a_position;\n\nuniform vec2 u_resolution;\nuniform mat3 u_matrix;\n\nvoid main(void) {\n  float ratio = u_resolution.x / u_resolution.y;\n\n  vec2 ratioCorrectedPosition = vec2(a_position.x, a_position.y * ratio);\n\n  vec2 transformedPosition = (u_matrix * vec3(a_position, 1)).xy;\n\n  gl_Position = vec4(transformedPosition, 0.0, 1.0);\n}\n"}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={id:o,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t=n(379),e=n.n(t),o=n(426);e()(o.Z,{insert:"head",singleton:!1}),o.Z.locals;var i="undefined"!=typeof Float32Array?Float32Array:Array;Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,e=arguments.length;e--;)t+=arguments[e]*arguments[e];return Math.sqrt(t)});var r=Math.random,a=(Math.floor,Math.PI),s=(Math.sin,Math.cos,Math.sqrt,Math.atan2,Math.acos,function(t){throw console.warn(t),new Error("This should be unreachable!")}),l=function(t){return void 0===t&&(t=1),r()*t},c=function(t){return void 0===t&&(t=1),l(2*t)-t},u=a/180,d=function(t){return t*u},h=function(){function t(t,e,n,o,i){this.gl=t;var r=this.createShader(t.VERTEX_SHADER,e),a=this.createShader(t.FRAGMENT_SHADER,n);this.attributes=i;var s=this.createProgram(r,a);this.program=s,this.uniforms=o,this.resolutionLocation=t.getUniformLocation(s,"u_resolution");var l={};for(var c in o)l[c]=t.getUniformLocation(s,"u_"+c);this.locations=l}return t.prototype.use=function(){this.gl.useProgram(this.program)},t.prototype.setUniform=function(t,e){var n=this.gl,o=this.uniforms[t];switch(o.type){case"f":n.uniform1f(this.locations[t],e);break;case"2f":case"2fv":n.uniform2fv(this.locations[t],e);break;case"3f":case"3fv":n.uniform3fv(this.locations[t],e);break;case"matrix3fv":n.uniformMatrix3fv(this.locations[t],!1,e);break;case"4f":case"4fv":n.uniform4fv(this.locations[t],e);break;case"matrix4fv":n.uniformMatrix4fv(this.locations[t],!1,e);break;default:s(o)}},t.prototype.setStandardUniforms=function(){this.gl.uniform2f(this.resolutionLocation,this.gl.canvas.width,this.gl.canvas.height)},t.prototype.createShader=function(t,e){var n=this.gl,o=n.createShader(t);if(null===o)throw new Error("Cannot create shader");if(n.shaderSource(o,e),n.compileShader(o),!n.getShaderParameter(o,n.COMPILE_STATUS))throw console.warn(n.getShaderInfoLog(o)),n.deleteShader(o),new Error("Cannot compile shader");return o},t.prototype.createProgram=function(t,e){var n=this.gl,o=n.createProgram();if(null===o)throw new Error("Cannot create program");if(n.attachShader(o,t),n.attachShader(o,e),this.attributes.forEach((function(t,e){n.bindAttribLocation(o,e,t)})),n.linkProgram(o),!n.getProgramParameter(o,n.LINK_STATUS))throw console.warn(n.getProgramInfoLog(o)),n.deleteProgram(o),new Error("Cannot link program");if(n.validateProgram(o),!n.getProgramParameter(o,n.VALIDATE_STATUS))throw console.warn(n.getProgramInfoLog(o)),n.deleteProgram(o),new Error("Program validation error");return n.detachShader(o,t),n.detachShader(o,e),n.deleteShader(t),n.deleteShader(e),o},t.prototype.destroy=function(){var t=this.gl;t.getParameter(t.CURRENT_PROGRAM)===this.program&&this.gl.useProgram(null),t.deleteProgram(this.program)},t}(),f=function(){function t(t){this.gl=t,this.canvasObserver=new ResizeObserver(this.updateCanvas.bind(this)),this.canvasObserver.observe(t.canvas)}return t.prototype.clear=function(){var t=this.gl;t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)},t.prototype.updateCanvas=function(){var t=this.gl.canvas,e=t.getBoundingClientRect();t.width===e.width&&t.height===e.width||(t.width=e.width*window.devicePixelRatio,t.height=e.height*window.devicePixelRatio,this.gl.viewport(0,0,t.width,t.height))},t.prototype.destroy=function(){this.canvasObserver.disconnect()},t}(),p=function(){function t(t,e,n,o,i){this.gl=t,this.name=e,this.size=o,this.count=n.length/this.size,this.location=t.getAttribLocation(i.program,e),this.buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array(n),t.STATIC_DRAW)}return t.prototype.prepare=function(){var t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,this.buffer),t.enableVertexAttribArray(this.location),t.vertexAttribPointer(this.location,this.size,t.FLOAT,!1,0,0)},t.prototype.draw=function(t){this.gl.drawArrays(t,0,this.count)},t.prototype.drawPoints=function(){this.draw(this.gl.POINTS)},t.prototype.drawLines=function(){this.draw(this.gl.LINES)},t.prototype.drawTriangles=function(){this.draw(this.gl.TRIANGLES)},t.prototype.swapProgram=function(t){this.location=this.gl.getAttribLocation(t.program,this.name)},t.prototype.destroy=function(){},t}(),m=n(189),_=n(37);function v(t,e){var n=t.__state.conversionName.toString(),o=Math.round(t.r),i=Math.round(t.g),r=Math.round(t.b),a=t.a,s=Math.round(t.h),l=t.s.toFixed(1),c=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var u=t.hex.toString(16);u.length<6;)u="0"+u;return"#"+u}return"CSS_RGB"===n?"rgb("+o+","+i+","+r+")":"CSS_RGBA"===n?"rgba("+o+","+i+","+r+","+a+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+o+","+i+","+r+"]":"RGBA_ARRAY"===n?"["+o+","+i+","+r+","+a+"]":"RGB_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+"}":"RGBA_OBJ"===n?"{r:"+o+",g:"+i+",b:"+r+",a:"+a+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+l+",v:"+c+",a:"+a+"}":"unknown format"}var g=Array.prototype.forEach,b=Array.prototype.slice,y={BREAK:{},extend:function(t){return this.each(b.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(b.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=b.call(arguments);return function(){for(var e=b.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(g&&t.forEach&&t.forEach===g)t.forEach(e,n);else if(t.length===t.length+0){var o,i=void 0;for(i=0,o=t.length;i<o;i++)if(i in t&&e.call(n,t[i],i)===this.BREAK)return}else for(var r in t)if(e.call(n,t[r],r)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var o=void 0;return function(){var i=this,r=arguments;function a(){o=null,n||t.apply(i,r)}var s=n||!o;clearTimeout(o),o=setTimeout(a,e),s&&t.apply(i,r)}},toArray:function(t){return t.toArray?t.toArray():b.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},w=[{litmus:y.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:v},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:v},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:v},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:v}}},{litmus:y.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:y.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:y.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(y.isNumber(t.r)&&y.isNumber(t.g)&&y.isNumber(t.b)&&y.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(y.isNumber(t.r)&&y.isNumber(t.g)&&y.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(y.isNumber(t.h)&&y.isNumber(t.s)&&y.isNumber(t.v)&&y.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(y.isNumber(t.h)&&y.isNumber(t.s)&&y.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],x=void 0,E=void 0,A=function(){E=!1;var t=arguments.length>1?y.toArray(arguments):arguments[0];return y.each(w,(function(e){if(e.litmus(t))return y.each(e.conversions,(function(e,n){if(x=e.read(t),!1===E&&!1!==x)return E=x,x.conversionName=n,x.conversion=e,y.BREAK})),y.BREAK})),E},C=void 0,S={hsv_to_rgb:function(t,e,n){var o=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),r=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=[[n,s,r],[a,n,r],[r,n,s],[r,a,n],[s,r,n],[n,r,a]][o];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(t,e,n){var o=Math.min(t,e,n),i=Math.max(t,e,n),r=i-o,a=void 0;return 0===i?{h:NaN,s:0,v:0}:(a=t===i?(e-n)/r:e===i?2+(n-t)/r:4+(t-e)/r,(a/=6)<0&&(a+=1),{h:360*a,s:r/i,v:i/255})},rgb_to_hex:function(t,e,n){var o=this.hex_with_component(0,2,t);return o=this.hex_with_component(o,1,e),this.hex_with_component(o,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(C=8*e)|t&~(255<<C)}},k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},L=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),O=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(o):void 0},M=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},R=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},P=function(){function t(){if(T(this,t),this.__state=A.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return L(t,[{key:"toString",value:function(){return v(this)}},{key:"toHexString",value:function(){return v(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function F(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||P.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(P.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function B(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||P.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(P.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}P.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=S.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");y.extend(t.__state,S.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},P.recalculateHSV=function(t){var e=S.rgb_to_hsv(t.r,t.g,t.b);y.extend(t.__state,{s:e.s,v:e.v}),y.isNaN(e.h)?y.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},P.COMPONENTS=["r","g","b","h","s","v","hex","a"],F(P.prototype,"r",2),F(P.prototype,"g",1),F(P.prototype,"b",0),B(P.prototype,"h"),B(P.prototype,"s"),B(P.prototype,"v"),Object.defineProperty(P.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(P.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=S.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var D=function(){function t(e,n){T(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return L(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),N={};y.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){y.each(t,(function(t){N[t]=e}))}));var U=/(\d+(\.\d+)?)px/;function z(t){if("0"===t||y.isUndefined(t))return 0;var e=t.match(U);return y.isNull(e)?0:parseFloat(e[1])}var j={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var o=n,i=e;y.isUndefined(i)&&(i=!0),y.isUndefined(o)&&(o=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),o&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,o){var i=n||{},r=N[e];if(!r)throw new Error("Event type "+e+" not supported.");var a=document.createEvent(r);switch(r){case"MouseEvents":var s=i.x||i.clientX||0,l=i.y||i.clientY||0;a.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,s,l,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var c=a.initKeyboardEvent||a.initKeyEvent;y.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),c(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(e,i.bubbles||!1,i.cancelable||!0)}y.defaults(a,o),t.dispatchEvent(a)},bind:function(t,e,n,o){var i=o||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),j},unbind:function(t,e,n,o){var i=o||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),j},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return j},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),o=n.indexOf(e);-1!==o&&(n.splice(o,1),t.className=n.join(" "))}else t.className=void 0;return j},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return z(e["border-left-width"])+z(e["border-right-width"])+z(e["padding-left"])+z(e["padding-right"])+z(e.width)},getHeight:function(t){var e=getComputedStyle(t);return z(e["border-top-width"])+z(e["border-bottom-width"])+z(e["padding-top"])+z(e["padding-bottom"])+z(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},H=function(t){function e(t,n){T(this,e);var o=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=o;return o.__prev=o.getValue(),o.__checkbox=document.createElement("input"),o.__checkbox.setAttribute("type","checkbox"),j.bind(o.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),o.domElement.appendChild(o.__checkbox),o.updateDisplay(),o}return M(e,t),L(e,[{key:"setValue",value:function(t){var n=O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(D),I=function(t){function e(t,n,o){T(this,e);var i=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=o,a=i;if(i.__select=document.createElement("select"),y.isArray(r)){var s={};y.each(r,(function(t){s[t]=t})),r=s}return y.each(r,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),a.__select.appendChild(n)})),i.updateDisplay(),j.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;a.setValue(t)})),i.domElement.appendChild(i.__select),i}return M(e,t),L(e,[{key:"setValue",value:function(t){var n=O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return j.isActive(this.__select)?this:(this.__select.value=this.getValue(),O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(D),V=function(t){function e(t,n){T(this,e);var o=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=o;function r(){i.setValue(i.__input.value)}return o.__input=document.createElement("input"),o.__input.setAttribute("type","text"),j.bind(o.__input,"keyup",r),j.bind(o.__input,"change",r),j.bind(o.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),j.bind(o.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),o.updateDisplay(),o.domElement.appendChild(o.__input),o}return M(e,t),L(e,[{key:"updateDisplay",value:function(){return j.isActive(this.__input)||(this.__input.value=this.getValue()),O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(D);function G(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var K=function(t){function e(t,n,o){T(this,e);var i=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=o||{};return i.__min=r.min,i.__max=r.max,i.__step=r.step,y.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=G(i.__impliedStep),i}return M(e,t),L(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=G(t),this}}]),e}(D),Y=function(t){function e(t,n,o){T(this,e);var i=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,o));i.__truncationSuspended=!1;var r=i,a=void 0;function s(){r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}function l(t){var e=a-t.clientY;r.setValue(r.getValue()+e*r.__impliedStep),a=t.clientY}function c(){j.unbind(window,"mousemove",l),j.unbind(window,"mouseup",c),s()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),j.bind(i.__input,"change",(function(){var t=parseFloat(r.__input.value);y.isNaN(t)||r.setValue(t)})),j.bind(i.__input,"blur",(function(){s()})),j.bind(i.__input,"mousedown",(function(t){j.bind(window,"mousemove",l),j.bind(window,"mouseup",c),a=t.clientY})),j.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(r.__truncationSuspended=!0,this.blur(),r.__truncationSuspended=!1,s())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return M(e,t),L(e,[{key:"updateDisplay",value:function(){var t,n,o;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,o=Math.pow(10,n),Math.round(t*o)/o),O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(K);function X(t,e,n,o,i){return o+(t-e)/(n-e)*(i-o)}var Q=function(t){function e(t,n,o,i,r){T(this,e);var a=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:o,max:i,step:r})),s=a;function l(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(X(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function c(){j.unbind(window,"mousemove",l),j.unbind(window,"mouseup",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function u(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(X(e,n.left,n.right,s.__min,s.__max))}function d(){j.unbind(window,"touchmove",u),j.unbind(window,"touchend",d),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return a.__background=document.createElement("div"),a.__foreground=document.createElement("div"),j.bind(a.__background,"mousedown",(function(t){document.activeElement.blur(),j.bind(window,"mousemove",l),j.bind(window,"mouseup",c),l(t)})),j.bind(a.__background,"touchstart",(function(t){1===t.touches.length&&(j.bind(window,"touchmove",u),j.bind(window,"touchend",d),u(t))})),j.addClass(a.__background,"slider"),j.addClass(a.__foreground,"slider-fg"),a.updateDisplay(),a.__background.appendChild(a.__foreground),a.domElement.appendChild(a.__background),a}return M(e,t),L(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",O(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(K),W=function(t){function e(t,n,o){T(this,e);var i=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),r=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===o?"Fire":o,j.bind(i.__button,"click",(function(t){return t.preventDefault(),r.fire(),!1})),j.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return M(e,t),L(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(D),J=function(t){function e(t,n){T(this,e);var o=R(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));o.__color=new P(o.getValue()),o.__temp=new P(0);var i=o;o.domElement=document.createElement("div"),j.makeSelectable(o.domElement,!1),o.__selector=document.createElement("div"),o.__selector.className="selector",o.__saturation_field=document.createElement("div"),o.__saturation_field.className="saturation-field",o.__field_knob=document.createElement("div"),o.__field_knob.className="field-knob",o.__field_knob_border="2px solid ",o.__hue_knob=document.createElement("div"),o.__hue_knob.className="hue-knob",o.__hue_field=document.createElement("div"),o.__hue_field.className="hue-field",o.__input=document.createElement("input"),o.__input.type="text",o.__input_textShadow="0 1px 1px ",j.bind(o.__input,"keydown",(function(t){13===t.keyCode&&d.call(this)})),j.bind(o.__input,"blur",d),j.bind(o.__selector,"mousedown",(function(){j.addClass(this,"drag").bind(window,"mouseup",(function(){j.removeClass(i.__selector,"drag")}))})),j.bind(o.__selector,"touchstart",(function(){j.addClass(this,"drag").bind(window,"touchend",(function(){j.removeClass(i.__selector,"drag")}))}));var r,a=document.createElement("div");function s(t){f(t),j.bind(window,"mousemove",f),j.bind(window,"touchmove",f),j.bind(window,"mouseup",c),j.bind(window,"touchend",c)}function l(t){p(t),j.bind(window,"mousemove",p),j.bind(window,"touchmove",p),j.bind(window,"mouseup",u),j.bind(window,"touchend",u)}function c(){j.unbind(window,"mousemove",f),j.unbind(window,"touchmove",f),j.unbind(window,"mouseup",c),j.unbind(window,"touchend",c),h()}function u(){j.unbind(window,"mousemove",p),j.unbind(window,"touchmove",p),j.unbind(window,"mouseup",u),j.unbind(window,"touchend",u),h()}function d(){var t=A(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function h(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function f(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,o=n.clientX,r=n.clientY,a=(o-e.left)/(e.right-e.left),s=1-(r-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),a>1?a=1:a<0&&(a=0),i.__color.v=s,i.__color.s=a,i.setValue(i.__color.toOriginal()),!1}function p(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return y.extend(o.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),y.extend(o.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:o.__field_knob_border+(o.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),y.extend(o.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),y.extend(o.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),y.extend(a.style,{width:"100%",height:"100%",background:"none"}),Z(a,"top","rgba(0,0,0,0)","#000"),y.extend(o.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(r=o.__hue_field).style.background="",r.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",r.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",r.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",y.extend(o.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:o.__input_textShadow+"rgba(0,0,0,0.7)"}),j.bind(o.__saturation_field,"mousedown",s),j.bind(o.__saturation_field,"touchstart",s),j.bind(o.__field_knob,"mousedown",s),j.bind(o.__field_knob,"touchstart",s),j.bind(o.__hue_field,"mousedown",l),j.bind(o.__hue_field,"touchstart",l),o.__saturation_field.appendChild(a),o.__selector.appendChild(o.__field_knob),o.__selector.appendChild(o.__saturation_field),o.__selector.appendChild(o.__hue_field),o.__hue_field.appendChild(o.__hue_knob),o.domElement.appendChild(o.__input),o.domElement.appendChild(o.__selector),o.updateDisplay(),o}return M(e,t),L(e,[{key:"updateDisplay",value:function(){var t=A(this.getValue());if(!1!==t){var e=!1;y.each(P.COMPONENTS,(function(n){if(!y.isUndefined(t[n])&&!y.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&y.extend(this.__color.__state,t)}y.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,o=255-n;y.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,Z(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),y.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+o+","+o+","+o+",.7)"})}}]),e}(D),q=["-moz-","-o-","-webkit-","-ms-",""];function Z(t,e,n,o){t.style.background="",y.each(q,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+o+" 100%); "}))}var $='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',tt=function(t,e){var n=t[e];return y.isArray(arguments[2])||y.isObject(arguments[2])?new I(t,e,arguments[2]):y.isNumber(n)?y.isNumber(arguments[2])&&y.isNumber(arguments[3])?y.isNumber(arguments[4])?new Q(t,e,arguments[2],arguments[3],arguments[4]):new Q(t,e,arguments[2],arguments[3]):y.isNumber(arguments[4])?new Y(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new Y(t,e,{min:arguments[2],max:arguments[3]}):y.isString(n)?new V(t,e):y.isFunction(n)?new W(t,e,""):y.isBoolean(n)?new H(t,e):null},et=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},nt=function(){function t(){T(this,t),this.backgroundElement=document.createElement("div"),y.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),j.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),y.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;j.bind(this.backgroundElement,"click",(function(){e.hide()}))}return L(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),y.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",j.unbind(t.domElement,"webkitTransitionEnd",e),j.unbind(t.domElement,"transitionend",e),j.unbind(t.domElement,"oTransitionEnd",e)};j.bind(this.domElement,"webkitTransitionEnd",e),j.bind(this.domElement,"transitionend",e),j.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-j.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-j.getHeight(this.domElement)/2+"px"}}]),t}();!function(t,e){var n=e||document,o=document.createElement("style");o.type="text/css",o.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(o)}catch(t){}}(function(t){if("undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var ot="Default",it=function(){try{return!!window.localStorage}catch(t){return!1}}(),rt=void 0,at=!0,st=void 0,lt=!1,ct=[],ut=function t(e){var n=this,o=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),j.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],o=y.defaults(o,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),o=y.defaults(o,{resizable:o.autoPlace,hideable:o.autoPlace}),y.isUndefined(o.load)?o.load={preset:ot}:o.preset&&(o.load.preset=o.preset),y.isUndefined(o.parent)&&o.hideable&&ct.push(this),o.resizable=y.isUndefined(o.parent)&&o.resizable,o.autoPlace&&y.isUndefined(o.scrollable)&&(o.scrollable=!0);var i,r=it&&"true"===localStorage.getItem(_t(0,"isLocal")),a=void 0,s=void 0;if(Object.defineProperties(this,{parent:{get:function(){return o.parent}},scrollable:{get:function(){return o.scrollable}},autoPlace:{get:function(){return o.autoPlace}},closeOnTop:{get:function(){return o.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:o.load.preset},set:function(t){n.parent?n.getRoot().preset=t:o.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return o.width},set:function(t){o.width=t,wt(n,t)}},name:{get:function(){return o.name},set:function(t){o.name=t,s&&(s.innerHTML=o.name)}},closed:{get:function(){return o.closed},set:function(e){o.closed=e,o.closed?j.addClass(n.__ul,t.CLASS_CLOSED):j.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return o.load}},useLocalStorage:{get:function(){return r},set:function(t){it&&(r=t,t?j.bind(window,"unload",a):j.unbind(window,"unload",a),localStorage.setItem(_t(0,"isLocal"),t))}}}),y.isUndefined(o.parent)){if(this.closed=o.closed||!1,j.addClass(this.domElement,t.CLASS_MAIN),j.makeSelectable(this.domElement,!1),it&&r){n.useLocalStorage=!0;var l=localStorage.getItem(_t(0,"gui"));l&&(o.load=JSON.parse(l))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,j.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),o.closeOnTop?(j.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(j.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),j.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===o.closed&&(o.closed=!0);var c=document.createTextNode(o.name);j.addClass(c,"controller-name"),s=dt(n,c),j.addClass(this.__ul,t.CLASS_CLOSED),j.addClass(s,"title"),j.bind(s,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),o.closed||(this.closed=!1)}o.autoPlace&&(y.isUndefined(o.parent)&&(at&&(st=document.createElement("div"),j.addClass(st,"dg"),j.addClass(st,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(st),at=!1),st.appendChild(this.domElement),j.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||wt(n,o.width)),this.__resizeHandler=function(){n.onResizeDebounced()},j.bind(window,"resize",this.__resizeHandler),j.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),j.bind(this.__ul,"transitionend",this.__resizeHandler),j.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),o.resizable&&yt(this),a=function(){it&&"true"===localStorage.getItem(_t(0,"isLocal"))&&localStorage.setItem(_t(0,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=a,o.parent||((i=n.getRoot()).width+=1,y.defer((function(){i.width-=1})))};function dt(t,e,n){var o=document.createElement("li");return e&&o.appendChild(e),n?t.__ul.insertBefore(o,n):t.__ul.appendChild(o),t.onResize(),o}function ht(t){j.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&j.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function ft(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function pt(t,e){var n=t.getRoot(),o=n.__rememberedObjects.indexOf(e.object);if(-1!==o){var i=n.__rememberedObjectIndecesToControllers[o];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[o]=i),i[e.property]=e,n.load&&n.load.remembered){var r=n.load.remembered,a=void 0;if(r[t.preset])a=r[t.preset];else{if(!r.Default)return;a=r.Default}if(a[o]&&void 0!==a[o][e.property]){var s=a[o][e.property];e.initialValue=s,e.setValue(s)}}}}function mt(t,e,n,o){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(o.color)i=new J(e,n);else{var r=[e,n].concat(o.factoryArgs);i=tt.apply(t,r)}o.before instanceof D&&(o.before=o.before.__li),pt(t,i),j.addClass(i.domElement,"c");var a=document.createElement("span");j.addClass(a,"property-name"),a.innerHTML=i.property;var s=document.createElement("div");s.appendChild(a),s.appendChild(i.domElement);var l=dt(t,s,o.before);return j.addClass(l,ut.CLASS_CONTROLLER_ROW),i instanceof J?j.addClass(l,"color"):j.addClass(l,k(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,y.extend(n,{options:function(e){if(arguments.length>1){var o=n.__li.nextElementSibling;return n.remove(),mt(t,n.object,n.property,{before:o,factoryArgs:[y.toArray(arguments)]})}if(y.isArray(e)||y.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),mt(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof Q){var o=new Y(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});y.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],i=o[t];n[t]=o[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(o,t),e.apply(n,t)}})),j.addClass(e,"has-slider"),n.domElement.insertBefore(o.domElement,n.domElement.firstElementChild)}else if(n instanceof Y){var i=function(e){if(y.isNumber(n.__min)&&y.isNumber(n.__max)){var o=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var r=mt(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return r.name(o),i&&r.listen(),r}return e};n.min=y.compose(i,n.min),n.max=y.compose(i,n.max)}else n instanceof H?(j.bind(e,"click",(function(){j.fakeEvent(n.__checkbox,"click")})),j.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof W?(j.bind(e,"click",(function(){j.fakeEvent(n.__button,"click")})),j.bind(e,"mouseover",(function(){j.addClass(n.__button,"hover")})),j.bind(e,"mouseout",(function(){j.removeClass(n.__button,"hover")}))):n instanceof J&&(j.addClass(e,"color"),n.updateDisplay=y.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=y.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&ft(t.getRoot(),!0),e}),n.setValue)}(t,l,i),t.__controllers.push(i),i}function _t(t,e){return document.location.href+"."+e}function vt(t,e,n){var o=document.createElement("option");o.innerHTML=e,o.value=e,t.__preset_select.appendChild(o),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function gt(t,e){e.style.display=t.useLocalStorage?"block":"none"}function bt(t){var e=t.__save_row=document.createElement("li");j.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),j.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",j.addClass(n,"button gears");var o=document.createElement("span");o.innerHTML="Save",j.addClass(o,"button"),j.addClass(o,"save");var i=document.createElement("span");i.innerHTML="New",j.addClass(i,"button"),j.addClass(i,"save-as");var r=document.createElement("span");r.innerHTML="Revert",j.addClass(r,"button"),j.addClass(r,"revert");var a=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?y.each(t.load.remembered,(function(e,n){vt(t,n,n===t.preset)})):vt(t,ot,!1),j.bind(a,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(a),e.appendChild(n),e.appendChild(o),e.appendChild(i),e.appendChild(r),it){var s=document.getElementById("dg-local-explain"),l=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(_t(0,"isLocal"))&&l.setAttribute("checked","checked"),gt(t,s),j.bind(l,"change",(function(){t.useLocalStorage=!t.useLocalStorage,gt(t,s)}))}var c=document.getElementById("dg-new-constructor");j.bind(c,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||rt.hide()})),j.bind(n,"click",(function(){c.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),rt.show(),c.focus(),c.select()})),j.bind(o,"click",(function(){t.save()})),j.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),j.bind(r,"click",(function(){t.revert()}))}function yt(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function o(){j.removeClass(t.__closeButton,ut.CLASS_DRAG),j.unbind(window,"mousemove",n),j.unbind(window,"mouseup",o)}function i(i){return i.preventDefault(),e=i.clientX,j.addClass(t.__closeButton,ut.CLASS_DRAG),j.bind(window,"mousemove",n),j.bind(window,"mouseup",o),!1}t.__resize_handle=document.createElement("div"),y.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),j.bind(t.__resize_handle,"mousedown",i),j.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function wt(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function xt(t,e){var n={};return y.each(t.__rememberedObjects,(function(o,i){var r={},a=t.__rememberedObjectIndecesToControllers[i];y.each(a,(function(t,n){r[n]=e?t.initialValue:t.getValue()})),n[i]=r})),n}function Et(t){0!==t.length&&et.call(window,(function(){Et(t)})),y.each(t,(function(t){t.updateDisplay()}))}ut.toggleHide=function(){lt=!lt,y.each(ct,(function(t){t.domElement.style.display=lt?"none":""}))},ut.CLASS_AUTO_PLACE="a",ut.CLASS_AUTO_PLACE_CONTAINER="ac",ut.CLASS_MAIN="main",ut.CLASS_CONTROLLER_ROW="cr",ut.CLASS_TOO_TALL="taller-than-window",ut.CLASS_CLOSED="closed",ut.CLASS_CLOSE_BUTTON="close-button",ut.CLASS_CLOSE_TOP="close-top",ut.CLASS_CLOSE_BOTTOM="close-bottom",ut.CLASS_DRAG="drag",ut.DEFAULT_WIDTH=245,ut.TEXT_CLOSED="Close Controls",ut.TEXT_OPEN="Open Controls",ut._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||ut.toggleHide()},j.bind(window,"keydown",ut._keydownHandler,!1),y.extend(ut.prototype,{add:function(t,e){return mt(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return mt(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;y.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&st.removeChild(this.domElement);var t=this;y.each(this.__folders,(function(e){t.removeFolder(e)})),j.unbind(window,"keydown",ut._keydownHandler,!1),ht(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new ut(e);this.__folders[t]=n;var o=dt(this,n.domElement);return j.addClass(o,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],ht(t);var e=this;y.each(t.__folders,(function(e){t.removeFolder(e)})),y.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=j.getOffset(t.__ul).top,n=0;y.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=j.getHeight(e))})),window.innerHeight-e-20<n?(j.addClass(t.domElement,ut.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(j.removeClass(t.domElement,ut.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&y.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:y.debounce((function(){this.onResize()}),50),remember:function(){if(y.isUndefined(rt)&&((rt=new nt).domElement.innerHTML=$),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;y.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&bt(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&wt(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=xt(this)),t.folders={},y.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=xt(this),ft(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=xt(this,!0)),this.load.remembered[t]=xt(this),this.preset=t,vt(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){y.each(this.__controllers,(function(e){this.getRoot().load.remembered?pt(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),y.each(this.__folders,(function(t){t.revert(t)})),t||ft(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&Et(this.__listening)},updateDisplay:function(){y.each(this.__controllers,(function(t){t.updateDisplay()})),y.each(this.__folders,(function(t){t.updateDisplay()}))}});var At,Ct=ut;function St(){var t=new i(3);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function kt(t){var e=new i(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Tt(t,e,n){var o=new i(3);return o[0]=t,o[1]=e,o[2]=n,o}function Lt(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function Ot(t,e,n,o){var i=e[0],r=e[1],a=e[2];return t[0]=i+o*(n[0]-i),t[1]=r+o*(n[1]-r),t[2]=a+o*(n[2]-a),t}function Mt(t){return t[0]=0,t[1]=0,t[2]=0,t}At=new i(2),i!=Float32Array&&(At[0]=0,At[1]=0);var Rt=(St(),function(t){var e=new Ct;this.values={};var n=function(n){var r=t[n];switch(r.type){case"float":o.values[n]=r.default,e.add(o.values,n,r.min,r.max,r.step);break;case"vec2":var a=function(t,e){var n=new i(2);return n[0]=t,n[1]=e,n}(r.default[0],r.default[1]);o.values[n]=a;var l=e.addFolder(n);l.open(),l.add(a,"0",r.min,r.max,r.step).name("x"),l.add(a,"1",r.min,r.max,r.step).name("y");break;case"vec3":var c=Tt(r.default[0],r.default[1],r.default[2]);o.values[n]=c;var u=e.addFolder(n);u.open(),u.add(c,"0",r.min,r.max,r.step).name("x"),u.add(c,"1",r.min,r.max,r.step).name("y"),u.add(c,"2",r.min,r.max,r.step).name("z");break;case"select":o.values[n]=r.options[0];var d=e.add(o.values,n,r.options);r.onChange&&d.onChange(r.onChange);break;case"functions":Object.keys(r.functions).map((function(t){return e.add(r.functions,t)}));break;default:s(r)}},o=this;for(var r in t)n(r)}),Pt=n(466),Ft=function(){function t(t){var e=this;this.lastTime=performance.now(),this.raf=0;var n=new Pt;n.showPanel(0),document.body.appendChild(n.dom);var o=function(){n.begin();var i=performance.now(),r=(i-e.lastTime)/1e3;e.lastTime=i,t(r,i/1e3),n.end(),e.raf=window.requestAnimationFrame(o)};o()}return t.prototype.destroy=function(){window.cancelAnimationFrame(this.raf)},t}(),Bt=n(800),Dt=n(802),Nt=function(){function t(t,e,n){var o=this;if(this.gl=t,this.vao=t.createVertexArray(),this.count=e[0].data.length/e[0].size,t.bindVertexArray(this.vao),e.forEach((function(t,e){o.initBuffer(t,e)})),n){var i=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,i),t.bufferData(t.ELEMENT_ARRAY_BUFFER,new Uint16Array(n),t.STATIC_DRAW);var r=n.length;this.index={buffer:i,count:r}}t.bindVertexArray(null),t.bindBuffer(t.ARRAY_BUFFER,null),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null)}return t.prototype.initBuffer=function(t,e){var n=this.gl,o=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,o),n.bufferData(n.ARRAY_BUFFER,t.data,n.STATIC_DRAW),n.enableVertexAttribArray(e);var i="float"===t.type?n.FLOAT:"unsigned-byte"===t.type?n.UNSIGNED_BYTE:0,r="unsigned-byte"===t.type&&t.normalized;n.vertexAttribPointer(e,t.size,i,r,0,0)},t.prototype.draw=function(t){var e=this.gl;e.bindVertexArray(this.vao),this.index?e.drawElements(t,this.index.count,e.UNSIGNED_SHORT,0):e.drawArrays(t,0,this.count),e.bindVertexArray(null)},t.prototype.drawPoints=function(){this.draw(this.gl.POINTS)},t.prototype.drawLines=function(){this.draw(this.gl.LINES)},t.prototype.drawTriangles=function(){this.draw(this.gl.TRIANGLES)},t.prototype.destroy=function(){},t}(),Ut=n(827),zt=n(389),jt=n(290),Ht=n(565),It=function(){for(var t=[],e=0;e<=10;e++){var n=.18*e-.9;t.push(n,.9,0),t.push(n,-.9,1);var o=.9-.18*e;t.push(-.9,o,0),t.push(.9,o,1)}return new Float32Array(t)};function Vt(){var t=new i(9);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}var Gt=function(t,e,n){var o=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=n[0],f=n[1],p=n[2],m=n[3],_=n[4],v=n[5],g=n[6],b=n[7],y=n[8];return t[0]=h*o+f*a+p*c,t[1]=h*i+f*s+p*u,t[2]=h*r+f*l+p*d,t[3]=m*o+_*a+v*c,t[4]=m*i+_*s+v*u,t[5]=m*r+_*l+v*d,t[6]=g*o+b*a+y*c,t[7]=g*i+b*s+y*u,t[8]=g*r+b*l+y*d,t};function Kt(t,e,n,o){var r=new i(4);return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r}function Yt(t,e,n,o,i){return t[0]=e,t[1]=n,t[2]=o,t[3]=i,t}function Xt(t,e,n){var o=e[0],i=e[1],r=e[2],a=e[3];return t[0]=n[0]*o+n[4]*i+n[8]*r+n[12]*a,t[1]=n[1]*o+n[5]*i+n[9]*r+n[13]*a,t[2]=n[2]*o+n[6]*i+n[10]*r+n[14]*a,t[3]=n[3]*o+n[7]*i+n[11]*r+n[15]*a,t}function Qt(){var t=new i(4);return i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Wt(t,e,n){n*=.5;var o=e[0],i=e[1],r=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=o*l+a*s,t[1]=i*l+r*s,t[2]=r*l-i*s,t[3]=a*l-o*s,t}function Jt(t,e,n){n*=.5;var o=e[0],i=e[1],r=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=o*l-r*s,t[1]=i*l+a*s,t[2]=r*l+o*s,t[3]=a*l-i*s,t}function qt(t,e,n){n*=.5;var o=e[0],i=e[1],r=e[2],a=e[3],s=Math.sin(n),l=Math.cos(n);return t[0]=o*l+i*s,t[1]=i*l-o*s,t[2]=r*l+a*s,t[3]=a*l-r*s,t}!function(){var t=new i(4);i!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();function Zt(){var t=new i(16);return i!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function $t(t){var e=new i(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function te(t,e,n,o){var i=e[0],r=e[1],a=e[2],s=e[3],l=i+i,c=r+r,u=a+a,d=i*l,h=i*c,f=i*u,p=r*c,m=r*u,_=a*u,v=s*l,g=s*c,b=s*u,y=o[0],w=o[1],x=o[2];return t[0]=(1-(p+_))*y,t[1]=(h+b)*y,t[2]=(f-g)*y,t[3]=0,t[4]=(h-b)*w,t[5]=(1-(d+_))*w,t[6]=(m+v)*w,t[7]=0,t[8]=(f+g)*x,t[9]=(m-v)*x,t[10]=(1-(d+p))*x,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}St(),Tt(1,0,0),Tt(0,1,0),Qt(),Qt(),Vt();var ee,ne,oe,ie,re=function(t,e,n){var o=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],m=e[12],_=e[13],v=e[14],g=e[15],b=n[0],y=n[1],w=n[2],x=n[3];return t[0]=b*o+y*s+w*d+x*m,t[1]=b*i+y*l+w*h+x*_,t[2]=b*r+y*c+w*f+x*v,t[3]=b*a+y*u+w*p+x*g,b=n[4],y=n[5],w=n[6],x=n[7],t[4]=b*o+y*s+w*d+x*m,t[5]=b*i+y*l+w*h+x*_,t[6]=b*r+y*c+w*f+x*v,t[7]=b*a+y*u+w*p+x*g,b=n[8],y=n[9],w=n[10],x=n[11],t[8]=b*o+y*s+w*d+x*m,t[9]=b*i+y*l+w*h+x*_,t[10]=b*r+y*c+w*f+x*v,t[11]=b*a+y*u+w*p+x*g,b=n[12],y=n[13],w=n[14],x=n[15],t[12]=b*o+y*s+w*d+x*m,t[13]=b*i+y*l+w*h+x*_,t[14]=b*r+y*c+w*f+x*v,t[15]=b*a+y*u+w*p+x*g,t},ae=function(){function t(){this.translationMatrix=Vt(),this.rotationMatrix=Vt(),this.scaleMatrix=Vt(),this.matrix=Vt()}return t.prototype.setTranslation=function(t){!function(t,e){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1}(this.translationMatrix,t)},t.prototype.setRotation=function(t){!function(t,e){var n=Math.sin(e),o=Math.cos(e);t[0]=o,t[1]=n,t[2]=0,t[3]=-n,t[4]=o,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(this.rotationMatrix,t)},t.prototype.setScale=function(t){!function(t,e){t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1}(this.scaleMatrix,t)},t.prototype.reset=function(){!function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1}(this.matrix)},t.prototype.update=function(){return Gt(this.matrix,this.matrix,this.translationMatrix),Gt(this.matrix,this.matrix,this.rotationMatrix),Gt(this.matrix,this.matrix,this.scaleMatrix),this.matrix},t}(),se=Qt(),le=[0,0,0],ce=[0,1,0],ue=function(){function t(){this.translation=St(),this.rotation=St(),this.scale=Tt(1,1,1),this.lookAtMatrixTemp=Zt(),this.rotationQuatTemp=Qt(),this.matrixTemp=Zt(),this.matrix=Zt(),this.direction={right:Kt(1,0,0,0),up:Kt(0,1,0,0),forward:Kt(0,0,1,0)}}return t.prototype.resetTransforms=function(){Mt(this.translation),Mt(this.rotation),function(t,e,n,o){t[0]=1,t[1]=1,t[2]=1}(this.scale)},t.prototype.resetMatrix=function(){(function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1})(this.matrix),Yt(this.direction.right,1,0,0,0),Yt(this.direction.up,0,1,0,0),Yt(this.direction.forward,0,0,1,0)},t.prototype.applyTransforms=function(){return this.lookAt?(function(t,e,n,o){var i=e[0],r=e[1],a=e[2],s=o[0],l=o[1],c=o[2],u=i-n[0],d=r-n[1],h=a-n[2],f=u*u+d*d+h*h;f>0&&(u*=f=1/Math.sqrt(f),d*=f,h*=f);var p=l*h-c*d,m=c*u-s*h,_=s*d-l*u;(f=p*p+m*m+_*_)>0&&(p*=f=1/Math.sqrt(f),m*=f,_*=f),t[0]=p,t[1]=m,t[2]=_,t[3]=0,t[4]=d*_-h*m,t[5]=h*p-u*_,t[6]=u*m-d*p,t[7]=0,t[8]=u,t[9]=d,t[10]=h,t[11]=0,t[12]=i,t[13]=r,t[14]=a,t[15]=1}(this.lookAtMatrixTemp,this.translation,this.lookAt,ce),re(this.matrix,this.matrix,this.lookAtMatrixTemp),Wt(this.rotationQuatTemp,se,d(this.rotation[0])),Jt(this.rotationQuatTemp,this.rotationQuatTemp,d(this.rotation[1])),qt(this.rotationQuatTemp,this.rotationQuatTemp,d(this.rotation[2])),te(this.matrixTemp,this.rotationQuatTemp,le,this.scale)):(Wt(this.rotationQuatTemp,se,d(this.rotation[0])),Jt(this.rotationQuatTemp,this.rotationQuatTemp,d(this.rotation[1])),qt(this.rotationQuatTemp,this.rotationQuatTemp,d(this.rotation[2])),te(this.matrixTemp,this.rotationQuatTemp,this.translation,this.scale)),re(this.matrix,this.matrix,this.matrixTemp),Xt(this.direction.right,[1,0,0,0],this.matrix),Xt(this.direction.up,[0,1,0,0],this.matrix),Xt(this.direction.forward,[0,0,1,0],this.matrix),this.matrix},t.prototype.applyTransformsOrbit=function(){return function(t,e,n){var o=Math.sin(n),i=Math.cos(n),r=e[0],a=e[1],s=e[2],l=e[3],c=e[4],u=e[5],d=e[6],h=e[7];e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*i+c*o,t[1]=a*i+u*o,t[2]=s*i+d*o,t[3]=l*i+h*o,t[4]=c*i-r*o,t[5]=u*i-a*o,t[6]=d*i-s*o,t[7]=h*i-l*o}(this.matrix,this.matrix,d(this.rotation[2])),function(t,e,n){var o=Math.sin(n),i=Math.cos(n),r=e[0],a=e[1],s=e[2],l=e[3],c=e[8],u=e[9],d=e[10],h=e[11];e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=r*i-c*o,t[1]=a*i-u*o,t[2]=s*i-d*o,t[3]=l*i-h*o,t[8]=r*o+c*i,t[9]=a*o+u*i,t[10]=s*o+d*i,t[11]=l*o+h*i}(this.matrix,this.matrix,d(this.rotation[1])),function(t,e,n){var o=Math.sin(n),i=Math.cos(n),r=e[4],a=e[5],s=e[6],l=e[7],c=e[8],u=e[9],d=e[10],h=e[11];e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=r*i+c*o,t[5]=a*i+u*o,t[6]=s*i+d*o,t[7]=l*i+h*o,t[8]=c*i-r*o,t[9]=u*i-a*o,t[10]=d*i-s*o,t[11]=h*i-l*o}(this.matrix,this.matrix,d(this.rotation[0])),function(t,e,n){var o,i,r,a,s,l,c,u,d,h,f,p,m=n[0],_=n[1],v=n[2];e===t?(t[12]=e[0]*m+e[4]*_+e[8]*v+e[12],t[13]=e[1]*m+e[5]*_+e[9]*v+e[13],t[14]=e[2]*m+e[6]*_+e[10]*v+e[14],t[15]=e[3]*m+e[7]*_+e[11]*v+e[15]):(o=e[0],i=e[1],r=e[2],a=e[3],s=e[4],l=e[5],c=e[6],u=e[7],d=e[8],h=e[9],f=e[10],p=e[11],t[0]=o,t[1]=i,t[2]=r,t[3]=a,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=d,t[9]=h,t[10]=f,t[11]=p,t[12]=o*m+s*_+d*v+e[12],t[13]=i*m+l*_+h*v+e[13],t[14]=r*m+c*_+f*v+e[14],t[15]=a*m+u*_+p*v+e[15])}(this.matrix,this.matrix,this.translation),function(t,e,n){var o=n[0],i=n[1],r=n[2];t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*r,t[9]=e[9]*r,t[10]=e[10]*r,t[11]=e[11]*r,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]}(this.matrix,this.matrix,this.scale),Xt(this.direction.right,[1,0,0,0],this.matrix),Xt(this.direction.up,[0,1,0,0],this.matrix),Xt(this.direction.forward,[0,0,1,0],this.matrix),this.matrix},t}(),de=(.1,ee=.15,ne=.03,oe=0,ie=0,{type:"float",data:new Float32Array([[oe,ie],[oe+ne,ie],[oe,ie+ee],[oe,ie+ee],[oe+ne,ie],[oe+ne,ie+ee],[oe+ne,ie],[oe+.1,ie],[oe+ne,ie+ne],[oe+ne,ie+ne],[oe+.1,ie],[oe+.1,ie+ne],[oe+ne,ie+.06],[oe+.2/3,ie+.06],[oe+ne,ie+.09],[oe+ne,ie+.09],[oe+.2/3,ie+.06],[oe+.2/3,ie+.09]].map((function(t){return[t[0],-t[1]]})).flat()),size:2}),he=n(107),fe=n(322),pe=function(){function t(t,e){this.mouseCapture=!1,this.paused=!1,this.canvas=t.canvas,this.listeners=e,e.keyDown&&(this.boundKeyDownListener=this.keyDownListener.bind(this),document.addEventListener("keydown",this.boundKeyDownListener)),e.keyUp&&(this.boundKeyUpListener=this.keyUpListener.bind(this),document.addEventListener("keyup",this.boundKeyUpListener)),e.mouseMove&&(this.boundMouseDownListener=this.mouseDownListener.bind(this),this.canvas.addEventListener("mousedown",this.boundMouseDownListener),this.boundMouseUpListener=this.mouseUpListener.bind(this),document.addEventListener("mouseup",this.boundMouseUpListener),this.boundMouseMoveListener=this.mouseMoveListener.bind(this),document.addEventListener("mousemove",this.boundMouseMoveListener)),e.wheel&&(this.boundWheelListener=this.wheelListener.bind(this),this.canvas.addEventListener("wheel",this.boundWheelListener))}return t.prototype.keyDownListener=function(t){this.paused||this.listeners.keyDown(t)},t.prototype.keyUpListener=function(t){this.paused||this.listeners.keyUp(t)},t.prototype.mouseDownListener=function(){this.mouseCapture=!0},t.prototype.mouseUpListener=function(){this.mouseCapture=!1},t.prototype.mouseMoveListener=function(t){this.mouseCapture&&!this.paused&&this.listeners.mouseMove(t)},t.prototype.wheelListener=function(t){this.paused||this.listeners.wheel(t)},t.prototype.destroy=function(){this.boundKeyDownListener&&document.removeEventListener("keydown",this.boundKeyDownListener),this.boundKeyUpListener&&document.removeEventListener("keyup",this.boundKeyUpListener),this.boundMouseDownListener&&this.canvas.removeEventListener("mousedown",this.boundMouseDownListener),this.boundMouseUpListener&&document.removeEventListener("mouseup",this.boundMouseUpListener),this.boundMouseMoveListener&&document.removeEventListener("mousemove",this.boundMouseMoveListener),this.boundWheelListener&&this.canvas.removeEventListener("wheel",this.boundWheelListener)},t}(),me=function(){function t(t,e,n){void 0===n&&(n=1),this.projectionParams={fovy:d(45),near:.1,far:4e3},this.transform=new ue,this.viewMatrix=Zt(),this.projectionMatrix=Zt(),this.viewProjectionMatrix=Zt(),this.canvas=t.canvas,this.controller="free"===e?new _e(t,this.transform,n):new ve(t,this.transform,n),this.mode=e}return Object.defineProperty(t.prototype,"fovy",{set:function(t){this.projectionParams.fovy=d(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"near",{set:function(t){this.projectionParams.near=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"far",{set:function(t){this.projectionParams.far=t},enumerable:!1,configurable:!0}),t.prototype.pauseInputController=function(){this.controller.inputController.paused=!0},t.prototype.startInputController=function(){this.controller.inputController.paused=!1},t.prototype.setTranslation=function(t,e){void 0===e&&(e=!1),this.controller.setTranslation(t),e&&Lt(this.transform.translation,t)},t.prototype.setRotation=function(t,e){void 0===e&&(e=!1),this.controller.setRotation(t),e&&Lt(this.transform.rotation,t)},t.prototype.update=function(){return function(t,e,n,o,i){var r,a=1/Math.tan(e/2);t[0]=a/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&&i!==1/0?(r=1/(o-i),t[10]=(i+o)*r,t[14]=2*i*o*r):(t[10]=-1,t[14]=-2*o)}(this.projectionMatrix,this.projectionParams.fovy,this.canvas.width/this.canvas.height,this.projectionParams.near,this.projectionParams.far),this.transform.resetMatrix(),"free"===this.mode?this.transform.applyTransforms():this.transform.applyTransformsOrbit(),function(t,e){var n=e[0],o=e[1],i=e[2],r=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],m=e[13],_=e[14],v=e[15],g=n*s-o*a,b=n*l-i*a,y=n*c-r*a,w=o*l-i*s,x=o*c-r*s,E=i*c-r*l,A=u*m-d*p,C=u*_-h*p,S=u*v-f*p,k=d*_-h*m,T=d*v-f*m,L=h*v-f*_,O=g*L-b*T+y*k+w*S-x*C+E*A;O&&(O=1/O,t[0]=(s*L-l*T+c*k)*O,t[1]=(i*T-o*L-r*k)*O,t[2]=(m*E-_*x+v*w)*O,t[3]=(h*x-d*E-f*w)*O,t[4]=(l*S-a*L-c*C)*O,t[5]=(n*L-i*S+r*C)*O,t[6]=(_*y-p*E-v*b)*O,t[7]=(u*E-h*y+f*b)*O,t[8]=(a*T-s*S+c*A)*O,t[9]=(o*S-n*T-r*A)*O,t[10]=(p*x-m*y+v*g)*O,t[11]=(d*y-u*x-f*g)*O,t[12]=(s*C-a*k-l*A)*O,t[13]=(n*k-o*C+i*A)*O,t[14]=(m*b-p*w-_*g)*O,t[15]=(u*w-d*b+h*g)*O)}(this.viewMatrix,this.transform.matrix),re(this.viewProjectionMatrix,this.projectionMatrix,this.viewMatrix),this.controller.update(),this.viewProjectionMatrix},t.prototype.destroy=function(){this.controller.destroy()},t}(),_e=function(){function t(t,e,n){this.translationFlags={forward:!1,back:!1,left:!1,right:!1,up:!1,down:!1},this.mouseMoveCoef=.2,this.lerpFactor=.2,this.cameraTransform=e,this.moveCoef=n,this.translationTarget=kt(e.translation),this.rotationTarget=kt(e.rotation),this.inputController=new pe(t,{keyDown:this.keyDownListener.bind(this),keyUp:this.keyUpListener.bind(this),mouseMove:this.mouseMoveListener.bind(this)})}return t.prototype.keyDownListener=function(t){"KeyW"===t.code?this.translationFlags.forward=!0:"KeyS"===t.code?this.translationFlags.back=!0:"KeyA"===t.code?this.translationFlags.left=!0:"KeyD"===t.code?this.translationFlags.right=!0:"KeyR"===t.code?this.translationFlags.up=!0:"KeyF"===t.code&&(this.translationFlags.down=!0)},t.prototype.keyUpListener=function(t){"KeyW"===t.code?this.translationFlags.forward=!1:"KeyS"===t.code?this.translationFlags.back=!1:"KeyA"===t.code?this.translationFlags.left=!1:"KeyD"===t.code?this.translationFlags.right=!1:"KeyR"===t.code?this.translationFlags.up=!1:"KeyF"===t.code&&(this.translationFlags.down=!1)},t.prototype.mouseMoveListener=function(t){this.rotationTarget[0]+=t.movementY*this.mouseMoveCoef,this.rotationTarget[1]+=t.movementX*this.mouseMoveCoef},t.prototype.setTranslation=function(t){Lt(this.translationTarget,t)},t.prototype.setRotation=function(t){Lt(this.rotationTarget,t)},t.prototype.update=function(){var t=this.cameraTransform,e=t.translation,n=t.rotation,o=t.direction,i=this,r=i.moveCoef,a=i.translationFlags,s=i.translationTarget,l=i.rotationTarget;a.forward&&(s[0]-=o.forward[0]*r,s[1]-=o.forward[1]*r,s[2]-=o.forward[2]*r),a.back&&(s[0]+=o.forward[0]*r,s[1]+=o.forward[1]*r,s[2]+=o.forward[2]*r),a.left&&(s[0]-=o.right[0]*r,s[1]-=o.right[1]*r,s[2]-=o.right[2]*r),a.right&&(s[0]+=o.right[0]*r,s[1]+=o.right[1]*r,s[2]+=o.right[2]*r),a.up&&(s[0]+=o.up[0]*r,s[1]+=o.up[1]*r,s[2]+=o.up[2]*r),a.down&&(s[0]-=o.up[0]*r,s[1]-=o.up[1]*r,s[2]-=o.up[2]*r),Ot(e,e,s,this.lerpFactor),Ot(n,n,l,this.lerpFactor)},t.prototype.destroy=function(){this.inputController.destroy()},t}(),ve=function(){function t(t,e,n){this.mouseMoveCoef=.2,this.lerpFactor=.2,this.cameraTransform=e,this.moveCoef=n,this.zTarget=e.translation[2],this.rotationTarget=kt(e.rotation),this.inputController=new pe(t,{mouseMove:this.mouseMoveListener.bind(this),wheel:this.wheelListener.bind(this)})}return t.prototype.mouseMoveListener=function(t){this.rotationTarget[0]-=t.movementY*this.mouseMoveCoef,this.rotationTarget[2]-=t.movementX*this.mouseMoveCoef},t.prototype.wheelListener=function(t){this.zTarget=Math.max(0,this.cameraTransform.translation[2]-t.deltaY*this.moveCoef)},t.prototype.setTranslation=function(t){this.zTarget=t[2]},t.prototype.setRotation=function(t){Lt(this.rotationTarget,t)},t.prototype.update=function(){var t,e,n,o=this.cameraTransform,i=o.translation,r=o.rotation;i[2]=(t=i[2],e=this.zTarget,t*(1-(n=this.lerpFactor))+e*n),Ot(r,r,this.rotationTarget,this.lerpFactor)},t.prototype.destroy=function(){this.inputController.destroy()},t}(),ge=n(10),be=n(446),ye=function(t,e){for(var n=0,o=e.length,i=t.length;n<o;n++,i++)t[i]=e[n];return t},we=function(t){var e=new h(t,ge,be,{matrix:{type:"matrix4fv",value:Zt()}},["a_position","a_color"]),n=function(){for(var t=[],e=0;e<=10;e++){var n=.1*e-.5;t.push(n,.5,0),t.push(n,-.5,0);var o=.5-.1*e;t.push(-.5,o,0),t.push(.5,o,0)}return{position:{type:"float",data:new Float32Array(t),size:3},color:{type:"unsigned-byte",data:new Uint8Array(ye(ye(ye([],Array(60).fill(255)),[[0,255,0,0,255,0],[255,0,0,255,0,0]]),Array(60).fill(255)).flat()),size:3,normalized:!0}}}();return{program:e,vao:new Nt(t,[n.position,n.color]),transform:new ue}},xe=n(778),Ee=n(584),Ae=function(t){var e=new h(t,xe,Ee,{matrix:{type:"matrix4fv",value:Zt()}},["a_position","a_color"]),n={position:{type:"float",data:new Float32Array([[0,0,0,0,150,0,30,0,0],[0,150,0,30,150,0,30,0,0],[30,0,0,30,30,0,100,0,0],[30,30,0,100,30,0,100,0,0],[30,60,0,30,90,0,67,60,0],[30,90,0,67,90,0,67,60,0],[0,0,30,30,0,30,0,150,30],[0,150,30,30,0,30,30,150,30],[30,0,30,100,0,30,30,30,30],[30,30,30,100,0,30,100,30,30],[30,60,30,67,60,30,30,90,30],[30,90,30,67,60,30,67,90,30],[0,0,0,100,0,0,100,0,30],[0,0,0,100,0,30,0,0,30],[100,0,0,100,30,0,100,30,30],[100,0,0,100,30,30,100,0,30],[30,30,0,30,30,30,100,30,30],[30,30,0,100,30,30,100,30,0],[30,30,0,30,60,30,30,30,30],[30,30,0,30,60,0,30,60,30],[30,60,0,67,60,30,30,60,30],[30,60,0,67,60,0,67,60,30],[67,60,0,67,90,30,67,60,30],[67,60,0,67,90,0,67,90,30],[30,90,0,30,90,30,67,90,30],[30,90,0,67,90,30,67,90,0],[30,90,0,30,150,30,30,90,30],[30,90,0,30,150,0,30,150,30],[0,150,0,0,150,30,30,150,30],[0,150,0,30,150,30,30,150,0],[0,0,0,0,0,30,0,150,30],[0,0,0,0,150,30,0,150,0]].flat()),size:3},color:{type:"unsigned-byte",data:new Uint8Array([[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[200,70,120,200,70,120,200,70,120],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[80,70,200,80,70,200,80,70,200],[70,200,210,70,200,210,70,200,210],[70,200,210,70,200,210,70,200,210],[200,200,70,200,200,70,200,200,70],[200,200,70,200,200,70,200,200,70],[210,100,70,210,100,70,210,100,70],[210,100,70,210,100,70,210,100,70],[210,160,70,210,160,70,210,160,70],[210,160,70,210,160,70,210,160,70],[70,180,210,70,180,210,70,180,210],[70,180,210,70,180,210,70,180,210],[100,70,210,100,70,210,100,70,210],[100,70,210,100,70,210,100,70,210],[76,210,100,76,210,100,76,210,100],[76,210,100,76,210,100,76,210,100],[140,210,80,140,210,80,140,210,80],[140,210,80,140,210,80,140,210,80],[90,130,110,90,130,110,90,130,110],[90,130,110,90,130,110,90,130,110],[160,160,220,160,160,220,160,160,220],[160,160,220,160,160,220,160,160,220]].flat()),size:3,normalized:!0}};return{program:e,vao:new Nt(t,[n.position,n.color]),transform:new ue}},Ce=n(528),Se=n(51),ke=n(738),Te=n(57),Le=n(822),Oe=function(){return{position:{type:"float",data:new Float32Array([[-1,1,0],[1,1,0],[1,-1,0],[-1,-1,0]].flat()),size:3},uv:{type:"float",data:new Float32Array([[0,0],[0,1],[1,1],[1,0]].flat()),size:2},index:[0,1,2,2,3,0]}};i=Array;var Me={1:function(t){new f(t);var e=new h(t,m,_,{},["a_position"]),n=new p(t,"a_position",[0,0],2,e);setTimeout((function(){e.use(),n.prepare(),n.drawPoints()}),100)},2:function(t){var e=new f(t),n=new h(t,Bt,Dt,{pointSize:{type:"f",value:50},angle:{type:"f",value:0},pointColor:{type:"4f",value:[1,1,1,1]}},["a_position"]),o=new p(t,"a_position",[0,0,0,.1,.1,.1,-.1,-.1,-.1],3,n),i=new Rt({basePointSize:{type:"float",default:50,min:0,max:300,step:.01},red:{type:"float",default:l(),min:0,max:1,step:.01},green:{type:"float",default:l(),min:0,max:1,step:.01},blue:{type:"float",default:l(),min:0,max:1,step:.01}}),r=0,a=0;new Ft((function(t){r+=3*t;var s=10*Math.sin(r)+i.values.basePointSize;a=(a+.5*t)%(2*Math.PI),e.clear(),n.use(),n.setUniform("pointSize",s),n.setUniform("angle",a),n.setUniform("pointColor",[i.values.red,i.values.green,i.values.blue,1]),o.prepare(),o.drawPoints()}))},3:function(t){var e=new f(t),n=new h(t,Ut,zt,{angle:{type:"f",value:0}},["a_position"]),o=new Float32Array([[-.1,.1],[.1,-.1],[-.1,-.1],[.1,.1]].flat()),i=new Nt(t,[{type:"float",data:o,size:2}]),r=new Float32Array([[0,0],[-.05,.1],[-.1,.05],[.05,.1],[.1,.05],[-.1,-.05],[-.05,-.1],[.1,-.05],[.05,-.1]].flat()),a=new Nt(t,[{type:"float",data:r,size:2}],[0,1,2,0,3,4,0,5,6,0,7,8]),s=0;new Ft((function(t){s=(s+.5*t)%(2*Math.PI),e.clear(),n.use(),n.setUniform("angle",s),a.drawTriangles(),i.drawPoints()}))},4:function(t){var e=new f(t),n=[[.8,.8,.8],[1,0,0]].flat(),o=new h(t,jt,Ht,{color:{type:"3fv",value:n}},["a_position"]),i=new Nt(t,[{type:"float",data:It(),size:3}]);new Ft((function(){e.clear(),o.use(),o.setUniform("color",n),i.drawLines()}))},5:function(t){var e=new f(t),n=new h(t,he,fe,{matrix:{type:"matrix3fv",value:Vt()}},["a_position"]),o=new Rt({translation:{type:"vec2",default:[.12,0],min:-.2,max:.2,step:.001},rotation:{type:"float",default:15,min:0,max:360,step:.01},scale:{type:"vec2",default:[.8,.8],min:0,max:1.4,step:.01}}),i=new Nt(t,[de]),r=new ae;new Ft((function(){e.clear(),n.use(),n.setStandardUniforms(),r.setTranslation(o.values.translation),r.setRotation(d(o.values.rotation)),r.setScale(o.values.scale),r.reset();for(var t=0;t<5;++t)n.setUniform("matrix",r.update()),i.drawTriangles()}))},6:function(t){var e=new f(t),n=we(t);n.transform.scale=[200,200,200];var o=Ae(t),i=new me(t,"free",10),r=new me(t,"orbit",10),a=r;i.pauseInputController();var s=function(t){void 0===t&&(t=!1),i.setTranslation([0,-300,200],t),i.setRotation([60,0,0],t),r.setRotation([64,0,0],t),r.setTranslation([0,0,400],t)};s(!0);var l=new Rt({rotation:{type:"vec3",default:[90,0,45],min:0,max:360,step:.01},translation:{type:"vec3",default:[0,0,0],min:-400,max:400,step:.01},scale:{type:"vec3",default:[1,1,1],min:-3,max:3,step:.01},fovy:{type:"float",default:45,min:0,max:180,step:.01},near:{type:"float",default:.1,min:.1,max:1e3,step:.01},far:{type:"float",default:5e3,min:0,max:5e3,step:.01},camera:{type:"select",options:["orbit","free"],onChange:function(t){a.pauseInputController(),(a="orbit"===t?r:i).startInputController()}},buttons:{type:"functions",functions:{resetCameras:s}}});t.enable(t.DEPTH_TEST),new Ft((function(){e.clear(),a.fovy=l.values.fovy,a.near=l.values.near,a.far=l.values.far,a.update(),n.program.use(),n.transform.matrix=$t(a.viewProjectionMatrix),n.transform.applyTransforms(),n.program.setUniform("matrix",n.transform.matrix),n.vao.drawLines(),o.program.use(),o.transform.matrix=$t(a.viewProjectionMatrix),o.transform.translation=l.values.translation,o.transform.rotation=l.values.rotation,o.transform.scale=l.values.scale,o.transform.applyTransforms(),o.program.setUniform("matrix",o.transform.matrix),o.vao.drawTriangles()}))},7:function(t){var e=new f(t),n=function(t){var e=new h(t,Ce,Se,{matrix:{type:"matrix4fv",value:Zt()}},["a_position","a_color"]),n={position:{type:"float",data:new Float32Array([[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]].flat()),size:3},color:{type:"unsigned-byte",data:new Uint8Array([[255,0,0,255,0,0],[0,255,0,0,255,0],[0,0,255,0,0,255]].flat()),size:3,normalized:!0}};return{program:e,vao:new Nt(t,[n.position,n.color]),transform:new ue}}(t);n.transform.rotation=[0,180,0];var o=Ae(t);o.transform.scale=[.01,.01,.01],o.transform.lookAt=[0,0,0];var i=new me(t,"orbit");i.setTranslation([0,0,15]),t.enable(t.DEPTH_TEST),new Ft((function(t,r){var a=.5*r,s=[2.5*Math.cos(a),2.5*Math.sin(a),2.5*Math.sin(a)];e.clear(),i.update(),o.program.use(),o.transform.matrix=$t(i.viewProjectionMatrix),o.transform.translation=s,o.transform.applyTransforms(),o.program.setUniform("matrix",o.transform.matrix),o.vao.drawTriangles(),n.program.use();for(var l=-5;l<=5;l++)for(var c=-5;c<=5;c++)n.transform.translation=[l,c,0],n.transform.lookAt=s,n.transform.matrix=$t(i.viewProjectionMatrix),n.transform.applyTransforms(),n.program.setUniform("matrix",n.transform.matrix),n.vao.drawLines()}))},8:function(t){var e=new f(t),n=we(t);n.transform.scale=[10,10,10];var o=function(t){var e=new h(t,ke,Te,{matrix:{type:"matrix4fv",value:Zt()},width:{type:"f",value:.1}},["a_position","a_uv"]),n=Oe();return{program:e,vao:new Nt(t,[n.position,n.uv],n.index),transform:new ue}}(t);o.transform.rotation=[90,0,0];var i=function(t){var e=new h(t,ke,Le,{matrix:{type:"matrix4fv",value:Zt()},width:{type:"f",value:.1}},["a_position","a_uv"]),n=Oe();return{program:e,vao:new Nt(t,[n.position,n.uv],n.index),transform:new ue}}(t);i.transform.rotation=[90,0,0];var r=function(t,e,n,o){var i=new h(t,ke,Le,{matrix:{type:"matrix4fv",value:Zt()},width:{type:"f",value:.1}},["a_position","a_uv"]),r=function(t,e,n){for(var o=[],i=[],r=[],a=0;a<t;a++){var s=.5*(1+c(n)),u=l(2*Math.PI),d=s*Math.cos(u),h=s*Math.sin(u),f=c(e),p=c(e),m=c(e),_=4*a;o.push(f-d,p+s,m-h),o.push(f-d,p-s,m-h),o.push(f+d,p-s,m+h),o.push(f+d,p+s,m+h),i.push(0,0,0,1,1,1,1,0),r.push(_,_+1,_+2,_+2,_+3,_)}return{position:{type:"float",data:new Float32Array(o),size:3},uv:{type:"float",data:new Float32Array(i),size:2},index:r}}(e,n,o);return{program:i,vao:new Nt(t,[r.position,r.uv],r.index),transform:new ue}}(t,10,6,.8),a=new me(t,"orbit");a.setTranslation([0,0,15]),a.setRotation([70,0,12]),t.enable(t.DEPTH_TEST),t.enable(t.BLEND),t.depthFunc(t.LEQUAL),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),new Ft((function(t,s){var l=.2*(Math.sin(s)+1.1);e.clear(),a.update(),n.program.use(),n.transform.matrix=$t(a.viewProjectionMatrix),n.transform.applyTransforms(),n.program.setUniform("matrix",n.transform.matrix),n.vao.drawLines(),r.program.use(),r.transform.matrix=$t(a.viewProjectionMatrix),r.transform.applyTransforms(),r.program.setUniform("matrix",r.transform.matrix),r.program.setUniform("width",l),r.vao.drawTriangles();for(var c=4;c>=-4;c-=2)c%4==0?(i.program.use(),i.transform.matrix=$t(a.viewProjectionMatrix),i.transform.translation=[0,c,0],i.transform.rotation[1]+=30*t,i.transform.applyTransforms(),i.program.setUniform("matrix",i.transform.matrix),i.program.setUniform("width",l),i.vao.drawTriangles()):(o.program.use(),o.transform.matrix=$t(a.viewProjectionMatrix),o.transform.translation=[0,c,0],o.transform.rotation[1]+=30*t,o.transform.applyTransforms(),o.program.setUniform("matrix",o.transform.matrix),o.program.setUniform("width",l),o.vao.drawTriangles())}))}};window.addEventListener("load",(function(){var t=new URLSearchParams(window.location.search),e=Number(t.get("scene"));if(!(e in Me)){var n=Object.keys(Me);return t.set("scene",n[n.length-1]),void(window.location.search=t.toString())}var o=document.createElement("button");o.innerText="<",o.onclick=function(){t.set("scene",String(e-1)),window.location.search=t.toString()};var i=document.createElement("button");i.onclick=function(){t.set("scene",String(e+1)),window.location.search=t.toString()},i.innerText=">";var r=document.createElement("div");r.id="switcher",e-1 in Me||(o.disabled=!0),e+1 in Me||(i.disabled=!0),r.appendChild(o),r.appendChild(i),document.body.appendChild(r);var a=document.createElement("div");a.id="fps",document.body.appendChild(a);var s=document.createElement("canvas");document.body.appendChild(s);var l=s.getContext("webgl2");if(null===l)throw new Error("Cannot get webgl context");Me[e](l)}))})()})();